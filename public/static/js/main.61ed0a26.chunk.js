(this["webpackJsonpoyameles-front"]=this["webpackJsonpoyameles-front"]||[]).push([[0],{47:function(e,a,t){e.exports=t(76)},73:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),o=t(4),s=function(){return r.a.createElement("div",{class:"uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light","data-srcset":"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg","uk-img":"true"},r.a.createElement("h1",null,"Background Image"))},u=t(3),i=t(1),m=t(9),d=t(36),E=function(e){var a=e.children;return r.a.createElement("div",{className:"uk-section"},r.a.createElement("div",{className:"uk-container"},a))},p=t(6),h=t(5),b=t(2),f=t.n(b),g="https://oyameles.herokuapp.com/api";f.a.defaults.withCredentials=!0;var v="oyameles/users/LOADING",k="oyameles/users/LOGIN_SUCCESS",y="oyameles/users/LOGIN_ERROR",O="oyameles/users/LOGOUT",_={data:JSON.parse(localStorage.getItem("user")),status:"",error:void 0};var N=function(){return{type:v}},C=function(e,a){return function(t){return t(N()),f.a.post("".concat(g,"/users/login"),e).then((function(e){var n=e.data.user;localStorage.setItem("user",JSON.stringify(n)),t({type:k,payload:n}),a("/")})).catch((function(e){return t((a=e.response.data,{type:y,error:a}));var a}))}},S=function(e,a){return function(t){return t(N()),f.a.post("".concat(g,"/users/signup"),e).then((function(e){var n;t((n=e.data.msg,{type:k,payload:n})),a("/login")})).catch((function(e){t({type:y,error:e})}))}},j=function(e,a){return function(t){return f.a.post("".concat(g,"/users/logout"),e).then((function(e){var n=e.data.user;localStorage.removeItem("user",JSON.stringify(n)),t({type:O}),a("/login")}))}};function R(){var e=Object(d.a)(['\n  background-image: url("https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Field-pines-mountain.jpg/1200px-Field-pines-mountain.jpg");\n  height: 800px;\n  background-color: #b1debe;\n  background-position: center; /* Center the image */\n  background-repeat: no-repeat; /* Do not repeat the image */\n  background-size: cover; /* Resize the background image to cover the entire container */\n']);return R=function(){return e},e}var T=t(38).a.div(R()),A=function(){var e=Object(o.g)(),a=Object(h.b)(),t=Object(o.f)().push,l=Object(h.c)((function(e){return e.user.status})),c=e.pathname.includes("login"),s=Object(n.useState)({}),d=Object(m.a)(s,2),b=d[0],f=d[1],g=function(e){var a=e.target.name,t=e.target.value;f((function(e){return Object(i.a)({},e,Object(u.a)({},a,t))}))};return r.a.createElement(T,null,r.a.createElement(E,null,r.a.createElement("div",{className:"uk-flex uk-flex-center"},r.a.createElement("div",{className:"uk-width-1-4"},r.a.createElement("h3",null,c?"Login":"Signup"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(c?C(b,t):S(b,t))},className:"uk-width-1-1 uk-form-stacked uk-flex uk-flex-center uk-flex-column"},r.a.createElement("div",{className:"uk-margin"},c?"":r.a.createElement("div",null,r.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Nombre Completo:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":""}),r.a.createElement("input",{onChange:g,id:"nombre",name:"nombre",className:"uk-input",type:"text",required:!0})),r.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Cel:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":""}),r.a.createElement("input",{onChange:g,id:"celular",name:"celular",className:"uk-input",type:"text"}))),r.a.createElement("label",{className:"uk-form-label",htmlFor:"email"},"Email:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: mail"}),r.a.createElement("input",{onChange:g,id:"email",name:"email",className:"uk-input",type:"email",required:!0})),r.a.createElement("label",{className:"uk-form-label",htmlFor:"password"},"Password:"),r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: lock"}),r.a.createElement("input",{onChange:g,id:"password",name:"password",className:"uk-input",type:"password",required:!0}))),c?r.a.createElement("div",{className:"uk-text-meta"},"A\xfan no tienes cuenta?"," ",r.a.createElement(p.b,{className:"uk-text-primary",to:"/signup"},"Crear cuenta")):null,r.a.createElement("button",{className:"uk-button uk-button-primary",disabled:"pending"===l},"pending"!==l&&r.a.createElement("span",null,c?"Login":"Signup"),"pending"===l&&r.a.createElement("div",{"uk-spinner":"true"})))))))},D=t(46),w=function(e){var a=e.name,t=e.type,n=void 0===t?"text":t,l=e.handleChange,c=e.placeholder,o=e.title,s=e.disabled,u=Object(D.a)(e,["name","type","handleChange","placeholder","title","disabled"]);return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label uk-text-capitalize",htmlFor:a},o,":"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("input",Object.assign({disabled:s,onChange:l,name:a,className:"uk-input",id:a,type:n,placeholder:c},u))))},L=function(e){var a=e.name,t=e.handleChange,n=e.hint,l=e.value;return r.a.createElement("div",{className:"uk-margin"},r.a.createElement("label",{className:"uk-form-label uk-text-capitalize",htmlFor:a},a," ",n&&"(".concat(n,")"),":"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("textarea",{onChange:t,className:"uk-textarea",name:a,id:a,cols:"30",rows:"5",value:l})))},G=function(e){return e.reduce((function(e,a){return Object(i.a)({},e,Object(u.a)({},a._id,a))}),{})},U=function(e){return Object.values(e)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=/[$]/;n.test(e)&&(e=e.replace(a,t));var r=(e=parseFloat(e).toFixed(t)).toString().split(".");r[0].length>=4&&(r[0]=r[0].replace(/(\d)(?=(\d{3})+$)/g,"".concat(a,"1,"))),r[1]&&r[1].length>=5&&(r[1]=r[1].replace(/(\d{3})/g,"".concat(a,"1 ")));var l=r.join(".");return l="".concat(a).concat(l)},x="oyameles/lotes/GET_LOTES_ERROR",P="oyameles/lotes/EDIT_LOTE_ERROR",F={items:{},status:"",error:void 0};var $=function(e){return function(a){a({type:"oyameles/lotes/LOADING"});var t=e?"".concat(g,"/lotes/lotes?_id=").concat(e):"".concat(g,"/lotes/lotes");return f.a.get(t).then((function(e){var t=G(e.data.result);a({type:"oyameles/lotes/GET_LOTES_SUCCESS",payload:t})})).catch((function(e){a({type:x,error:e})}))}},M=function(e,a){return function(t){t({type:"oyameles/lotes/LOADING"});var n=new FormData;for(var r in e)if("images"===r)for(var l=0,c=Array.from(e[r]);l<c.length;l++){var o=c[l];n.append(r,o)}else n.append(r,e[r]);return f.a.patch("".concat(g,"/lotes/").concat(a),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t({type:"oyameles/lotes/EDIT_LOTE_SUCCESS",payload:e.data.result})})).catch((function(e){t({type:P,error:e})}))}},V="oyameles/ventas/GET_VENTAS_ERROR",q="oyameles/ventas/EDIT_VENTA_SUCCESS",z="oyameles/ventas/EDIT_VENTA_ERROR",Y={items:{},status:"",error:void 0};var J=function(){return function(e){return e({type:"oyameles/ventas/LOADING"}),f.a.get("".concat(g,"/ventas")).then((function(a){var t=G(a.data.result);e({type:"oyameles/ventas/GET_VENTAS_SUCCESS",payload:t})})).catch((function(a){e({type:V,error:a})}))}},H=function(e,a){return function(t){return t({type:"oyameles/ventas/LOADING"}),f.a.patch("".concat(g,"/ventas/").concat(a),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a;t((a=e.data.result,{type:q,payload:a}))})).catch((function(e){t({type:z,error:e})}))}},B=function(){var e=Object(h.b)(),a=Object(h.c)((function(e){return e.lotes.items})),t=Object(n.useState)({}),l=Object(m.a)(t,2),c=l[0],o=l[1];Object(n.useEffect)((function(){e($()),e(J())}),[e]);var s=function(a){a.preventDefault();var t=c,n=new FormData;for(var r in t)if("images"===r)for(var l=0,o=Array.from(t[r]);l<o.length;l++){var s=o[l];n.append(r,s)}else n.append(r,t[r]);e(function(e,a){return function(t){return t({type:"oyameles/lotes/LOADING"}),f.a.post("".concat(g,"/lotes"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t({type:"oyameles/lotes/CREATE_LOTE_SUCCESS",payload:e.data.result}),a("/")})).catch((function(e){t({type:"oyameles/lotes/CREATE_LOTE_ERROR",error:e})}))}}(n))},d=function(e){var a=e.target.name,t=e.target.files||e.target.value,n=0;c.area>0&&c.precio_m2>0&&(n=c.area*c.precio_m2),["vista","topografia","vegetacion","orientacion","colindancias","geometria"].indexOf(a)>-1&&(t=t.split(",")),o((function(e){var r;return Object(i.a)({},e,(r={},Object(u.a)(r,a,t),Object(u.a)(r,"precio_total",n),r))}))};return console.log(c),r.a.createElement(E,null,r.a.createElement("button",{className:"uk-button uk-button-default uk-margin-small-right",type:"button","uk-toggle":"target: #nuevo-lote"},"Nuevo Lote"),r.a.createElement("div",{id:"nuevo-lote","uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},r.a.createElement("h2",{className:"uk-modal-title"},"Crear nuevo lote"),r.a.createElement("form",{className:"uk-grid-small","uk-grid":"true",onSubmit:s},r.a.createElement(w,{name:"numero",title:"Numero de Lote",placeholder:"Numero de lote",value:c.numero||"",handleChange:d,required:!0}),r.a.createElement(w,{type:"number",name:"fase",title:"Fase del Proyecto",placeholder:"Fase del Proyecto",value:c.fase||"",handleChange:d,required:!0}),r.a.createElement(w,{name:"area",type:"number",title:"Area en M2",placeholder:"Area en M2",value:c.area||"",handleChange:d,required:!0}),r.a.createElement(w,{name:"precio_m2",title:"Precio por m2",type:"number",placeholder:"Precio por m2",value:c.precio_m2||"",handleChange:d,required:!0}),r.a.createElement(w,{name:"vista",title:"Vista",placeholder:"Vista (separa por comas)",value:c.vista||"",handleChange:d}),r.a.createElement(w,{name:"topografia",title:"Topograf\xeda",placeholder:"Topograf\xeda (separa por comas)",value:c.topografia||"",handleChange:d}),r.a.createElement(w,{name:"vegetacion",title:"Vegetaci\xf3n",placeholder:"Vegetaci\xf3n (separa por comas)",value:c.vegetacion||"",handleChange:d}),r.a.createElement(w,{name:"orientacion",title:"Orientaci\xf3n",placeholder:"Orientaci\xf3n (separa por comas)",value:c.orientacion||"",handleChange:d}),r.a.createElement(w,{name:"colindancias",title:"Colindancias",placeholder:"Colindancias (separa por comas)",value:c.colindancias||"",handleChange:d}),r.a.createElement(w,{name:"geometria",title:"Geometr\xeda",placeholder:"Geometr\xeda (separa por comas)",value:c.geometria||"",handleChange:d}),r.a.createElement(L,{name:"descripcion",title:"Descripci\xf3n",placeholder:"Agrega una breve descripci\xf3n",value:c.descripcion||"",handleChange:d}),r.a.createElement(w,{name:"images",title:"Lote images",placeholder:"Lote images",type:"file",handleChange:d,multiple:!0})),r.a.createElement("p",{className:"uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close",type:"button"},"Cancel"),r.a.createElement("button",{className:"uk-button uk-button-primary uk-modal-close",type:"button",onClick:s},"Crear")))),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-overflow-auto"},r.a.createElement("table",{className:"uk-table uk-table-middle uk-table-divider"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-width-small"},"Numero"),r.a.createElement("th",null,"Fase"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Area(m2)"),r.a.createElement("th",null,"$/m2"),r.a.createElement("th",null,"Precio Total"),r.a.createElement("th",null,"Vista"),r.a.createElement("th",null,"Orientacion"),r.a.createElement("th",null,"Colindancias"))),r.a.createElement("tbody",null,U(a).sort((function(e,a){return e.numero-a.numero})).map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.numero),r.a.createElement("td",null,e.fase),r.a.createElement("td",null,e.status),r.a.createElement("td",null,I(e.area,"",0)),r.a.createElement("td",null,I(e.precio_m2,"$",0)),r.a.createElement("td",null,I(e.precio_total,"$",0)),r.a.createElement("td",null,e.vista),r.a.createElement("td",null,e.orientacion),r.a.createElement("td",null,e.colindancias),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/DetalleLote/".concat(e._id)},r.a.createElement("button",{className:"uk-button uk-button-default",type:"button"},"Detalle"))))})))))))},W=t(45),X="oyameles/pagos/GET_PAGOS_ERROR",K="oyameles/pagos/EDIT_PAGO_ERROR",Q={items:{},status:"",error:void 0};var Z=function(){return function(e){return e({type:"oyameles/pagos/LOADING"}),f.a.get("".concat(g,"/pagos/pagos")).then((function(a){var t=G(a.data.result);e({type:"oyameles/pagos/GET_PAGOS_SUCCESS",payload:t})})).catch((function(a){e({type:X,error:a})}))}};f.a.defaults.withCredentials=!0;var ee="oyameles/users/EDIT_USER_ERROR",ae={items:{},status:"",error:void 0};var te=function(e){var a=e.images;return r.a.createElement("div",{className:"uk-padding-remove uk-position-relative uk-visible-toggle uk-light","uk-slideshow":"animation: push;ratio: 2:2;max-height: 500"},r.a.createElement("ul",{className:"uk-slideshow-items"},void 0!==a?a.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("img",{src:e,alt:"","uk-cover":"true"}))})):""),r.a.createElement("a",{className:"uk-position-center-left uk-position-small uk-hidden-hover",href:"#","uk-slidenav-previous":"true","uk-slideshow-item":"previous"}),r.a.createElement("a",{className:"uk-position-center-right uk-position-small uk-hidden-hover",href:"#","uk-slidenav-next":"true","uk-slideshow-item":"next"}),r.a.createElement("div",{className:"uk-position-bottom-center uk-position-small"},r.a.createElement("ul",{className:"uk-dotnav"},void 0!==a?a.map((function(e,a){return r.a.createElement("li",{key:a,"uk-slideshow-item":a},r.a.createElement("a",{href:"#"},"Item 1"))})):"")))},ne=t(23),re=function(){var e=Object(h.b)(),a=Object(o.h)().id,t=Object(h.c)((function(e){return e.ventas.items})),l=Object(h.c)((function(e){return e.pagos.items})),c=Object(h.c)((function(e){return e.users.items})),s=Object(h.c)((function(e){return e.lotes.items[a]}))||{},d=Object(n.useState)({}),p=Object(m.a)(d,2),b=p[0],v=p[1],k=Object(n.useState)([]),y=Object(m.a)(k,2),O=y[0],_=y[1],N=Object(n.useState)({}),C=Object(m.a)(N,2),S=C[0],j=C[1],R=Object(n.useState)({}),T=Object(m.a)(R,2),A=T[0],D=T[1],x=Object(n.useState)({}),P=Object(m.a)(x,2),F=P[0],V=P[1],q=U(t).find((function(e){return e.lote._id===a}))||{},z=function(e){return void 0===q.detalle_credito?"":q.detalle_credito[e]};console.log(q),Object(n.useEffect)((function(){if(e(J()),e(Z()),e((function(e){return e({type:"oyameles/users/LOADING"}),f.a.get("".concat(g,"/users")).then((function(a){var t=G(a.data.result);e({type:"oyameles/users/FETCH_USERS_SUCCESS",payload:t})})).catch((function(a){e({type:"oyameles/users/FETCH_USERS_ERROR",error:a})}))})),e($(a)),t){var n=K(z("pago_mensual"),z("meses"),z("fecha_inicial"),z("principal"),z("tasa"));v({pago_mensual:z("pago_mensual"),meses:z("meses"),"a\xf1os":z("a\xf1os"),fecha_inicial:z("fecha_inicial"),principal:z("principal"),tasa:z("tasa"),enganche_$:z("enganche_$"),"enganche_%":z("enganche_%")}),_(n),j(q.client||"No hay cliente definido"),D(q.vendedor||"No hay vendedor definido")}}),[e,a]);var Y=function(e){var a=e.target.name,t=e.target.files||e.target.value;v((function(e){return Object(i.a)({},e,Object(u.a)({},a,t))})),function(e,a){var t=b.enganche_$,n=b.principal,r=b.meses,l=b.tasa_mes,c=void 0===l?0:l,o=b.pago_mensual;"enganche_%"===e&&(t=a/100*s.precio_total,n=s.precio_total-t,v((function(e){return Object(i.a)({},e,{enganche_$:t,principal:n})}))),""!==b.tasa&&(c=b.tasa/100/12,v((function(e){return Object(i.a)({},e,{tasa_mes:c})}))),"a\xf1os"===e&&(r=12*a,v((function(e){return Object(i.a)({},e,{meses:r})}))),"tasa"!==e&&"enganche_%"!==e&&"a\xf1os"!==e||(o=n*c*Math.pow(1+c,r)/(Math.pow(1+c,r)-1),v((function(e){return Object(i.a)({},e,{pago_mensual:o})})))}(a,t)},B=function(e){var a=e.target.name,t=e.target.files||e.target.value;"cliente"===a&&j(U(c).find((function(e){return e.nombre===t}))),"vendedor"===a&&D(U(c).find((function(e){return e.nombre===t})))},X=function(e){return void 0===e||e.length<1?"ND":e.join(", ")},K=function(e,a,t,n,r){var l,c=[{periodo:0,fecha:ne(t).format("DD/MMM/YYYY"),saldo_inicial:0,pago_mensual:0,intereses:0,principal:0,saldo_final:Number(n),intereses_acumulados:0}];for(l=0;l<Number(a);l++)c=[].concat(Object(W.a)(c),[{periodo:l+1,fecha:ne(c[l].fecha).add(1,"month").format("DD/MMM/YYYY"),saldo_inicial:c[l].saldo_final,pago_mensual:Number(e),intereses:c[l].saldo_final*(Number(r)/100)/12,principal:Number(e)-c[l].saldo_final*(Number(r)/100)/12,saldo_final:c[l].saldo_final-(Number(e)-c[l].saldo_final*(Number(r)/100)/12),intereses_acumulados:c[l].saldo_final*(Number(r)/10)/12+c[l].intereses_acumulados}]);return c},Q=function(a){a.preventDefault();var t=F,n=new FormData;for(var r in t)if("images"===r)for(var l=0,c=Array.from(t[r]);l<c.length;l++){var o=c[l];n.append(r,o)}else n.append(r,t[r]);e(function(e,a){return function(a){return a({type:"oyameles/pagos/LOADING"}),f.a.post("".concat(g,"/pagos"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"oyameles/pagos/CREATE_PAGO_SUCCESS",payload:e.data.result})}))}}(n))},ee=function(e){var a=e.target.name,t=e.target.files||e.target.value;V((function(e){var n;return Object(i.a)({},e,(n={},Object(u.a)(n,a,t),Object(u.a)(n,"venta",q._id),n))}))};return console.log(F),r.a.createElement("div",null,r.a.createElement(E,null,r.a.createElement("h3",null,"LOTE ",s.numero),r.a.createElement("div",{className:"uk-container uk-grid-match uk-child-width-1-3@m","uk-grid":"true"},r.a.createElement("div",null,r.a.createElement(te,{images:s.images})),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Fase:")," ",s.fase),r.a.createElement("p",null,r.a.createElement("b",null,"\xc1rea:")," ",I(s.area,"",0)," M2"),r.a.createElement("p",null,r.a.createElement("b",null,"Precio por M2:")," ",I(s.precio_m2,"$",0)),r.a.createElement("p",null,r.a.createElement("b",null,"Precio Total:")," ",I(s.precio_total,"$",0)),r.a.createElement("p",null,r.a.createElement("b",null,"Status:")," ",s.status)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Colindancias:")," ",X(s.colindancias)),r.a.createElement("p",null,r.a.createElement("b",null,"Geometria:")," ",X(s.geometria)),r.a.createElement("p",null,r.a.createElement("b",null,"Topografia:")," ",X(s.topografia)),r.a.createElement("p",null,r.a.createElement("b",null,"Vegetaci\xf3n:")," ",X(s.vegetacion)),r.a.createElement("p",null,r.a.createElement("b",null,"Vista:")," ",X(s.vista))))),r.a.createElement(E,null,r.a.createElement("h3",null,"Detalle de venta del LOTE ",s.numero),r.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},r.a.createElement("div",{className:"uk-width-1-2"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-flex uk-flex-center uk-child-width-1"},r.a.createElement("form",{className:"uk-grid-small","uk-grid":"true",onSubmit:function(e){e.preventDefault();var a=K(b.pago_mensual,b.meses,b.fecha_inicial,b.principal,b.tasa);_(a)}},r.a.createElement(w,{name:"fecha_inicial",title:"Fecha Inicial",type:"date",placeholder:z("fecha_inicial"),value:b.fecha_inicial||"",handleChange:Y}),r.a.createElement(w,{type:"number",name:"enganche_%",title:"Enganche (%)",placeholder:z("enganche_%"),value:b["enganche_%"]||"",handleChange:Y}),r.a.createElement(w,{name:"tasa",type:"number",title:"Tasa (%)",placeholder:z("tasa"),value:b.tasa||"",handleChange:Y}),r.a.createElement(w,{name:"a\xf1os",title:"A\xf1os",type:"number",placeholder:z("a\xf1os"),value:b["a\xf1os"]||"",handleChange:Y}),r.a.createElement("div",{className:"uk-text-center","uk-grid":"true"},r.a.createElement("div",{className:"uk-card uk-child-width-1-2"},r.a.createElement("b",null,"Enganche:")," ",I(b.enganche_$,"$",0)||""),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-child-width-1-2"},r.a.createElement("b",null,"Principal:")," ",b.principal?I(b.principal,"$",0):""),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-child-width-1-2"},r.a.createElement("b",null,"Meses:")," ",b.meses||""),r.a.createElement("br",null),r.a.createElement("div",{className:"uk-card uk-child-width-1-2"},r.a.createElement("b",null,"PAGO MENSUAL:")," ",I(b.pago_mensual,"$",0)||"")),r.a.createElement(w,{name:"images",title:"Product images",placeholder:"Product images",type:"file",handleChange:Y,multiple:!0}),r.a.createElement("button",{className:"uk-button"},"Calcular Pagos")))),r.a.createElement("div",{className:"uk-width-1-2 uk-height-match"},r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"form-horizontal-select"},"Cliente"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("select",{className:"uk-select",id:"form-horizontal-select",name:"cliente",onChange:B},r.a.createElement("option",null,S.nombre||"No hay cliente definido"),U(c).sort((function(e,a){return e.periodo-a.periodo})).map((function(e,a){return r.a.createElement("option",{key:a},e.nombre)}))),"Email: ",S.email,r.a.createElement("br",null),"Cel: ",S.celular||"")),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("label",{className:"uk-form-label",htmlFor:"form-horizontal-select"},"Vendedor"),r.a.createElement("div",{className:"uk-form-controls"},r.a.createElement("select",{className:"uk-select",id:"form-horizontal-select",name:"vendedor",onChange:B},r.a.createElement("option",null,A.nombre||"No hay vendedor definido"),U(c).sort((function(e,a){return e.periodo-a.periodo})).map((function(e,a){return r.a.createElement("option",{key:a},e.nombre)}))),"Email: ",A.email,r.a.createElement("br",null),"Cel: ",A.celular||"")),r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},r.a.createElement("h5",null,"Pagos"),"Total pagado:"," ",U(l).length<1?"":I(U(l).reduce((function(e,a){return e+a.monto}),0),"$",0),r.a.createElement("button",{className:"uk-button uk-button-default uk-margin-small-right",type:"button","uk-toggle":"target: #nuevo-pago"},"Agregar Pago"),r.a.createElement("div",{id:"nuevo-pago","uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body"},r.a.createElement("h2",{className:"uk-modal-title"},"Agregar nuevo pago"),r.a.createElement("form",{className:"uk-grid-small","uk-grid":"true",onSubmit:Q},r.a.createElement(w,{name:"numero_de_pago",type:"number",title:"Numero de Pago",placeholder:"Numero de pago",value:F.numero_de_pago||"",handleChange:ee,required:!0}),r.a.createElement(w,{name:"monto",type:"number",title:"Monto",placeholder:"Monto",value:F.monto||"",handleChange:ee,required:!0}),r.a.createElement(w,{name:"fecha",type:"date",title:"fecha",placeholder:"fecha",value:F.fecha||"",handleChange:ee,required:!0}),r.a.createElement(w,{name:"medio_de_pago",title:"Medio de Pago",placeholder:"Medio de Pago",value:F.medio_de_pago||"",handleChange:ee,required:!0}),r.a.createElement(L,{name:"comentarios",title:"Comentarios",placeholder:"Agrega comentarios",value:F.comentarios||"",handleChange:ee}),r.a.createElement(w,{name:"images",title:"Comprobante",placeholder:"Comprobante",type:"file",handleChange:ee,multiple:!0})),r.a.createElement("p",{className:"uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close",type:"button"},"Cancel"),r.a.createElement("button",{className:"uk-button uk-button-primary uk-modal-close",type:"button",onClick:Q},"Crear"))))))),r.a.createElement("button",{onClick:function(a){a.preventDefault();var t=Object(i.a)({tipo_de_venta:"Credito",vendedor:A._id,fecha:b.fecha_inicial,client:S._id,lote:s._id,comentarios:""},b);b.images&&(t.images=b.images);var n=new FormData;for(var r in t)if("images"===r)for(var l=0,c=Array.from(t[r]);l<c.length;l++){var o=c[l];n.append(r,o)}else n.append(r,t[r]);0===Object.keys(q).length?(e(function(e){return function(a){return a({type:"oyameles/ventas/LOADING"}),f.a.post("".concat(g,"/ventas"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"oyameles/ventas/CREATE_VENTA_SUCCESS",payload:e.data.result})})).catch((function(e){a({type:"oyameles/ventas/CREATE_VENTA_ERROR",error:e})}))}}(n)),e(M({status:"Vendido"},s._id))):e(H(n,q._id))},className:"uk-button"},"Guardar Cambios")),r.a.createElement(E,null,r.a.createElement("div",{className:"uk-overflow-auto"},r.a.createElement("table",{className:"uk-table uk-table-middle uk-table-divider uk-table-striped table uk-table-small"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-width-small"},"Periodo"),r.a.createElement("th",null,"Fecha de Pago"),r.a.createElement("th",null,"Saldo Inicial"),r.a.createElement("th",null,"Pago Mensual"),r.a.createElement("th",null,"Intereses"),r.a.createElement("th",null,"Principal"),r.a.createElement("th",null,"Saldo Final"),r.a.createElement("th",null,"Interesas Acumulados"))),r.a.createElement("tbody",null,O.sort((function(e,a){return e.periodo-a.periodo})).map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.periodo),r.a.createElement("td",null,e.fecha),r.a.createElement("td",null,I(e.saldo_inicial,"$",0)),r.a.createElement("td",null,I(e.pago_mensual,"$",0)),r.a.createElement("td",null,I(e.intereses,"$",0)),r.a.createElement("td",null,I(e.principal,"$",0)),r.a.createElement("td",null,I(e.saldo_final,"$",0)),r.a.createElement("td",null,I(e.intereses_acumulados,"$",0)),r.a.createElement("td",null))})))))))},le=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(s,null)),r.a.createElement(o.a,{exact:!0,path:"/login"},r.a.createElement(A,null)),r.a.createElement(o.a,{exact:!0,path:"/signup"},r.a.createElement(A,null)),r.a.createElement(o.a,{exact:!0,path:"/lotes"},r.a.createElement(B,null)),r.a.createElement(o.a,{exact:!0,path:"/DetalleLote/:id"},r.a.createElement(re,null)))},ce=function(){var e=Object(h.c)((function(e){return e.user.data})),a=Object(h.b)(),t=Object(o.f)().push,l=Object(n.useState)({}),c=Object(m.a)(l,1)[0];return r.a.createElement("nav",{style:{backgroundColor:"#74967e"},className:"uk-navbar-container","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",{className:"uk-active"},r.a.createElement(p.b,{to:"/"},"Oyameles")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/lotes"},"Lotes")))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-navbar-nav"},!e&&r.a.createElement("li",{className:""},r.a.createElement(p.b,{to:"/login"},"Login")),!e&&r.a.createElement("li",null,r.a.createElement(p.b,{to:"/signup"},"Signup")),e&&r.a.createElement("li",null,r.a.createElement(p.b,{to:"/profile"},e.nombre),r.a.createElement("div",{className:"uk-navbar-dropdown"},r.a.createElement("ul",{className:"uk-nav uk-navbar-dropdown-nav"},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){e.preventDefault(),a(j(c,t))},className:"uk-button uk-button-default"},"Logout"))))))))};t(73);var oe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ce,null),r.a.createElement(le,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=t(13),ue=t(42),ie=Object(se.c)({lotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"oyameles/lotes/LOADING":return Object(i.a)({},e,{status:"pending"});case"oyameles/lotes/GET_LOTES_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},a.payload)});case x:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/lotes/CREATE_LOTE_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case"oyameles/lotes/CREATE_LOTE_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/lotes/EDIT_LOTE_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case P:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/lotes/DELETE_LOTE_SUCCESS":return Object(i.a)({},e,{status:"success"});case"oyameles/lotes/DELETE_LOTE_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return Object(i.a)({},e,{status:"pending"});case k:return{status:"success",data:Object(i.a)({},a.payload)};case y:return{status:"error",error:a.error};case"oyameles/users/SIGNUP_SUCCESS":return{status:"success",data:Object(i.a)({},a.payload)};case"oyameles/users/SIGNUP_ERROR":return{status:"error",error:a.error};case O:return _;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"oyameles/users/LOADING":return Object(i.a)({},e,{status:"pending"});case"oyameles/users/FETCH_USERS_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},a.payload)});case"oyameles/users/FETCH_USERS_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/users/CREATE_USER_SUCCESS":return Object(i.a)({},e,{status:"success",users:Object(i.a)({},e.users,Object(u.a)({},a.payload._id,a.payload))});case"oyameles/users/CREATE_USER_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/users/EDIT_USER_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.users,Object(u.a)({},a.payload._id,a.payload))});case ee:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/users/DELETE_USER_SUCCESS":return Object(i.a)({},e,{status:"success"});case"oyameles/users/DELETE_USER_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});default:return e}},ventas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"oyameles/ventas/LOADING":return Object(i.a)({},e,{status:"pending"});case"oyameles/ventas/GET_VENTAS_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},a.payload)});case V:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/ventas/CREATE_VENTA_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case"oyameles/ventas/CREATE_VENTA_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});case q:return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case z:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/ventas/DELETE_VENTA_SUCCESS":return Object(i.a)({},e,{status:"success"});case"oyameles/ventas/DELETE_VENTA_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});default:return e}},pagos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"oyameles/pagos/LOADING":return Object(i.a)({},e,{status:"pending"});case"oyameles/pagos/GET_PAGOS_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},a.payload)});case X:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/pagos/CREATE_PAGO_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case"oyameles/pagos/CREATE_PAGO_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/pagos/EDIT_PAGO_SUCCESS":return Object(i.a)({},e,{status:"success",items:Object(i.a)({},e.items,Object(u.a)({},a.payload._id,a.payload))});case K:return Object(i.a)({},e,{status:"error",error:a.error});case"oyameles/pagos/DELETE_PAGO_SUCCESS":return Object(i.a)({},e,{status:"success"});case"oyameles/pagos/DELETE_PAGO_ERROR":return Object(i.a)({},e,{status:"error",error:a.error});default:return e}}}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,de=Object(se.e)(ie,me(Object(se.a)(ue.a))),Ee=t(43),pe=t.n(Ee),he=t(44),be=t.n(he);t(74),t(75);pe.a.use(be.a),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:de},r.a.createElement(p.a,null,r.a.createElement(oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.61ed0a26.chunk.js.map